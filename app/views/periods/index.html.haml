= javascript_include_tag "//www.google.com/jsapi", "chartkick"
=include_gon
= render partial: 'periods/modal'

-if @period && @period.subjects.count >= 1
  = render partial: 'periods/modal_edit', locals: { period: @period }
  .container-fluid
    .row
      .col-xs-12.col-md-7
        #calendar
      .col-xs-12.col-md-5
        /= bar_chart @period.chart_hash, max: 100
      = render partial: 'periods/subjectstable', locals: { period: @period }
-elsif @period
  = render partial: 'subjects/modal', locals: { period: @period }
  %div{:style => 'text-align:center;'}
    %h4= 'Agora adicione as disciplinas'
    %button.btn{'data-target' => '#SubjectModalForm', 'data-toggle' => 'modal', :type => 'button'} Adicionar disciplina
    /%h4= link_to '<i class='glyphicon glyphicon-plus'></i> Adicionar disciplina'.html_safe, new_period_subject_path(@period), class: 'btn btn-primary'
-else
  %div{:style => 'text-align:center;'}
    %h4= 'Comece adicionando um periodo'
    %button.btn{'data-target' => '#PeriodModalForm', 'data-toggle' => 'modal', :type => 'button'} Adicionar periodo
  /%h4= link_to '<i class='glyphicon glyphicon-plus'></i> Adicionar per√≠odo'.html_safe, new_period_path, class: 'btn btn-primary'
